@{
    var total = 0;
}
<style>

</style>

<body>
    <h2>Manager Bill :</h2>
   @* <div class="container-fluid admin-artcles" style="text-align:center">
        <!-- DataTable -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 style="color:darkolivegreen">DataTables Bill</h6>
            </div>

            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>
                                    User (Customer)
                                </th>
                                <th>
                                    Name Product
                                </th>
                                <th>
                                    Time Checkout
                                </th>
                                <th>
                                    Amount
                                </th>
                                <th>
                                    Money
                                </th>
                                <th>
                                    Option
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            {
                            <tr>
                                <td>
                                </td>
                                <td>
                                </td>
                                <td>
                                </td>
                                <td>
                                </td>
                                <td>
                                </td>
                                <td>
                                    Detail |
                                    Delete.
                                </td>
                            </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-header py-3">
                <p>

                </p>
            </div>
        </div>
    </div>*@
    <div class="row">
        <div class="col-lg-12">
            <div class="shoping__cart__table">
                <table>
                    <thead>
                        <tr>
                            <th>Đơn hàng</th>
                            <th>Tổng tiền</th>
                            <th>Ngày đặt</th>
                            <th>Trạng thái</th>
                            <th>Xem chi tiết</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    <input type="hidden" value="@item.Id" name="OrderId" />
                                    <p>Đơn hàng @item.Id</p>
                                </td>
                                <td class="shoping__cart__price">
                                    @item.Total.ToString("0#,##0")đ
                                </td>
                                <td class="shoping__cart__quantity">
                                    <div class="quantity">
                                        <div>
                                            @item.CreatedAt.ToString("dd-MM-yyyy HH:mm")
                                        </div>
                                    </div>
                                </td>
                                <td class="shoping__cart__total">
                                    @item.Status
                                </td>
                                <td class="shoping__cart__item__close">
                                    <a href="javascript:{}" id="order-@item.Id" onclick="showOrderDetails(@item.Id)"><span class="fa fa fa-caret-down"></span></a>
                                </td>
                            </tr>
                            <tr style="display: none">
                                <td colspan="5" style="padding : 0; background-color: #ccc">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Sản phẩm</th>
                                                <th>Giá</th>
                                                <th>Số lượng</th>
                                                <th>Thành tiền</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var i in item.OrderDetails)
                                            {
                                                <tr>
                                                    <td class="shoping__cart__item" style="text-align: left !important;width:40% !important">
                                                        <input type="hidden" value="@i.Product.Id" name="ProductId" />
                                                        <input type="hidden" value="@i.Id" name="CartId" />
                                                        <img src="~/img/product/@i.Product.Image" alt="" style="width:20%; margin-right:0; padding-left:16px">
                                                        <h5>@i.Product.Name</h5>
                                                    </td>
                                                    <td class="shoping__cart__price">
                                                        @i.Product.Price.ToString("0#,##0")đ
                                                    </td>
                                                    <td class="shoping__cart__quantity">
                                                        <div class="quantity">
                                                            <div>
                                                                <input type="text" disabled value="@i.Quantity" name="Quantity"
                                                               style="padding: 4px 8px;width: 50%;text-align: center;" />
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="shoping__cart__total">
                                                        @{
                                                            total += i.Product.Price * i.Quantity;
                                                        }
                                                        @((i.Product.Price * i.Quantity).ToString("0#,##0"))đ
                                                    </td>
                                                </tr>
                                            }

                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script>
        function showOrderDetails(id) {
            var content = $(`#order-${id}`).parent().parent().next()
            if (content.css('display') == 'none')
                content.css('display', '')
            else
                content.css('display', 'none')
        }
    </script>
</body>
